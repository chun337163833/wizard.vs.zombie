var h=void 0,j=!0,k=null,m=!1;function aa(a){return function(){return this[a]}}var n,o=this;function ba(){}
function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function r(a){return a!==h}function s(a){return"array"==ca(a)}function da(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length}function t(a){return"string"==typeof a}function ea(a){return"number"==typeof a}function u(a){return"function"==ca(a)}function fa(a){a=ca(a);return"object"==a||"array"==a||"function"==a}function v(a){return a[ga]||(a[ga]=++ha)}
var ga="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ha=0;function ia(a,b,c){return a.call.apply(a.bind,arguments)}function ja(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function ka(a,b,c){ka=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return ka.apply(k,arguments)}var la=Date.now||function(){return+new Date};function w(a,b){function c(){}c.prototype=b.prototype;a.wb=b.prototype;a.prototype=new c};var ma={},na,oa,pa;function y(a,b){this.x=r(a)?a:0;this.y=r(b)?b:0}y.prototype.e=function(){return new y(this.x,this.y)};function qa(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)}function ra(a,b){return new y(a.x-b.x,a.y-b.y)};function z(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}z.prototype.e=function(){return new z(this.top,this.right,this.bottom,this.left)};z.prototype.contains=function(a){return!this||!a?m:a instanceof z?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};
z.prototype.expand=function(a,b,c,d){fa(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};function sa(a,b){return a.left<=b.right&&b.left<=a.right&&a.top<=b.bottom&&b.top<=a.bottom};function A(a,b){this.width=a;this.height=b}n=A.prototype;n.e=function(){return new A(this.width,this.height)};function ta(a){return a.width*a.height}n.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};n.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};n.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
n.scale=function(a){this.width*=a;this.height*=a;return this};z.prototype.size=function(){return new A(this.right-this.left,this.bottom-this.top)};function ua(){}ua.prototype.r=ba;function B(a){return a.rc?a.rc:a}function va(a,b){wa(b,a);b.rc=B(a);return b};var C=new ua;C.na=function(){};
C.td=function(){var a=this.wa,b=this.ob(),c=this.Q||1,d=c/a,e;if(this.a){this.$a&&this.$a.contains(b)&&(e=ta(this.$a.size())/ta(b.size()))&&1.6>e&&0.5<e?b=this.$a:1!=this.ze&&0!=this.d.length&&(this instanceof D||b.expand(12,12,12,12));this.$a=b;var f=b.size();e=f.e().scale(c).ceil();if(this.a.width!=e.width||this.a.height!=e.height)this.a.width=e.width,this.a.height=e.height,this.rb=1;var g=this.z.e();this.l[F]&&(g=this.l[F]);0!=e.width?g.scale(f.width*d/e.width):g.scale(1/a);a=this.n();this.Hb=
(a.left-b.left)*c;this.Ib=(a.top-b.top)*c;b=this.f().e();a=this.P;b.width*=a.x;b.height*=a.y;b=b.scale(c);c=this.c.e();this.l[G]&&(c=this.l[G]);c.x*=d;c.y*=d;c.x-=b.width+this.Hb;c.y-=b.height+this.Ib;xa(this.a,100*((this.Hb+b.width)/e.width),100*((this.Ib+b.height)/e.height),j);!this.K[G]&&!this.K[F]&&!this.K[H]&&(d=-(this.w%=360),r(this.l[H])&&(d=-this.l[H]),ya(this.a,za(new I,0.1).translate(c.x,c.y).scale(g.x,g.y).rotate(d)));if(this.rb)d=this.a.getContext("2d"),c=this.Q||1,d.clearRect(0,0,e.width,
e.height),d.save(),d.translate(this.Hb,this.Ib),d.scale(c,c),e=this.f(),g=this.P,d.translate(e.width*g.x,e.height*g.y),this.m.Fc.call(this,d),d.restore(),this.rb=0}};C.update=function(){};
C.Fc=function(a){if(this.p&&(this.h!=this.V&&(this.V&&J.Yc.call(this),this.h&&J.pc.call(this)),!this.ia&&!this.Vb&&!(0==this.ba||1==this.Xb))){1!=this.ba&&(a.globalAlpha*=this.ba);if(this.h){J.tc.call(this.h);var b=this.V,c=this.z;a.save();a.save();a.translate(b.Nc.x,b.Nc.y);a.rotate(-b.Oc);this.Ma&&a.rotate((this.w%=360)*Math.PI/180);a.beginPath();a.moveTo(0,0);a.lineTo(b.bc/c.x,0);a.lineTo(b.bc/c.x,b.ac/c.y);a.lineTo(0,b.ac/c.y);a.closePath();a.restore();a.clip()}b=new y(0,0);this.m.r.call(this,
a);for(var d=0,e;e=this.d[d];d++){var f=Aa(e,b).e(),g=e.w%=360,c=e.z;a.save();a.translate(f.x,f.y);a.scale(c.x,c.y);0!=g&&a.rotate(-g*Math.PI/180);this.m.Fc.call(e,a);a.restore()}1!=this.ba&&(a.globalAlpha/=this.ba);this.V&&a.restore()}};function Ba(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Ca(a){if(!Da.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ea,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Fa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ga,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ha,"&quot;"));return a}var Ea=/&/g,Fa=/</g,Ga=/>/g,Ha=/\"/g,Da=/[&<>\"]/;var K=Array.prototype,L=K.indexOf?function(a,b,c){return K.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(t(a))return!t(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ia=K.forEach?function(a,b,c){K.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=t(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ja=K.filter?function(a,b,c){return K.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=t(a)?a.split(""):
a,i=0;i<d;i++)if(i in g){var l=g[i];b.call(c,l,i,a)&&(e[f++]=l)}return e},Ka=K.map?function(a,b,c){return K.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=t(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};function La(a,b){0<=L(a,b)||a.push(b)}function Ma(a,b){var c=L(a,b);0<=c&&K.splice.call(a,c,1)}function Na(a){return K.concat.apply(K,arguments)}function Oa(a){if(s(a))return Na(a);for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}
function Pa(a,b,c,d){K.splice.apply(a,Qa(arguments,1))}function Qa(a,b,c){return 2>=arguments.length?K.slice.call(a,b):K.slice.call(a,b,c)};function M(a,b){this.x=a;this.y=b}w(M,y);M.prototype.e=function(){return new M(this.x,this.y)};M.prototype.scale=function(a){this.x*=a;this.y*=a;return this};M.prototype.normalize=function(){return this.scale(1/Math.sqrt(this.x*this.x+this.y*this.y))};M.prototype.rotate=function(a){var b=Math.cos(a),a=Math.sin(a),c=this.y*b+this.x*a;this.x=this.x*b-this.y*a;this.y=c;return this};var Ra,Sa,Ta,Ua,Va,Wa;function Xa(){return o.navigator?o.navigator.userAgent:k}Va=Ua=Ta=Sa=Ra=m;var Ya;if(Ya=Xa()){var Za=o.navigator;Ra=0==Ya.indexOf("Opera");Sa=!Ra&&-1!=Ya.indexOf("MSIE");Ua=(Ta=!Ra&&-1!=Ya.indexOf("WebKit"))&&-1!=Ya.indexOf("Mobile");Va=!Ra&&!Ta&&"Gecko"==Za.product}var $a=Ra,N=Sa,ab=Va,P=Ta,bb=Ua,cb,db=o.navigator;cb=db&&db.platform||"";Wa=-1!=cb.indexOf("Mac");var eb=-1!=cb.indexOf("Win"),fb;
a:{var gb="",hb;if($a&&o.opera)var ib=o.opera.version,gb="function"==typeof ib?ib():ib;else if(ab?hb=/rv\:([^\);]+)(\)|;)/:N?hb=/MSIE\s+([^\);]+)(\)|;)/:P&&(hb=/WebKit\/(\S+)/),hb)var jb=hb.exec(Xa()),gb=jb?jb[1]:"";if(N){var kb,lb=o.document;kb=lb?lb.documentMode:h;if(kb>parseFloat(gb)){fb=""+kb;break a}}fb=gb}var mb={};
function nb(a){var b;if(!(b=mb[a])){b=0;for(var c=Ba(""+fb).split("."),d=Ba(""+a).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",i=d[f]||"",l=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var x=l.exec(g)||["","",""],p=q.exec(i)||["","",""];if(0==x[0].length&&0==p[0].length)break;b=((0==x[1].length?0:parseInt(x[1],10))<(0==p[1].length?0:parseInt(p[1],10))?-1:(0==x[1].length?0:parseInt(x[1],10))>(0==p[1].length?0:parseInt(p[1],10))?1:0)||((0==x[2].length)<(0==
p[2].length)?-1:(0==x[2].length)>(0==p[2].length)?1:0)||(x[2]<p[2]?-1:x[2]>p[2]?1:0)}while(0==b)}b=mb[a]=0<=b}return b}var ob={};function pb(){return ob[9]||(ob[9]=N&&document.documentMode&&9<=document.documentMode)};function qb(){}var rb=0;n=qb.prototype;n.key=0;n.xa=m;n.vc=m;n.ib=function(a,b,c,d,e,f){if(u(a))this.Mc=j;else if(a&&a.handleEvent&&u(a.handleEvent))this.Mc=m;else throw Error("Invalid listener argument");this.Ka=a;this.Wc=b;this.src=c;this.type=d;this.capture=!!e;this.Ub=f;this.vc=m;this.key=++rb;this.xa=m};n.handleEvent=function(a){return this.Mc?this.Ka.call(this.Ub||this.src,a):this.Ka.handleEvent.call(this.Ka,a)};function sb(a,b){for(var c in a)b.call(h,a[c],c,a)}var tb="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");function wa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<tb.length;f++)c=tb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};!N||pb();var ub=!N||pb(),vb=N&&!nb("8");function wb(){}wb.prototype.Ec=m;wb.prototype.cb=function(){if(!this.Ec)this.Ec=j,this.X()};wb.prototype.X=function(){this.sd&&xb.apply(k,this.sd)};function xb(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];da(d)?xb.apply(k,d):d&&"function"==typeof d.cb&&d.cb()}};function Q(a,b){this.type=a;this.currentTarget=this.target=b}w(Q,wb);Q.prototype.X=function(){delete this.type;delete this.target;delete this.currentTarget};Q.prototype.ja=m;Q.prototype.Na=j;Q.prototype.preventDefault=function(){this.Na=m};function yb(a){yb[" "](a);return a}yb[" "]=ba;function zb(a,b){a&&this.ib(a,b)}w(zb,Q);n=zb.prototype;n.target=k;n.relatedTarget=k;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=m;n.altKey=m;n.shiftKey=m;n.metaKey=m;n.Sd=m;n.Ha=k;
n.ib=function(a,b){var c=this.type=a.type;Q.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(ab){var e;a:{try{yb(d.nodeName);e=j;break a}catch(f){}e=m}e||(d=k)}}else if("mouseover"==c)d=a.fromElement;else if("mouseout"==c)d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==h?a.offsetX:a.layerX;this.offsetY=a.offsetY!==h?a.offsetY:a.layerY;this.clientX=a.clientX!==h?a.clientX:a.pageX;this.clientY=a.clientY!==h?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Sd=Wa?a.metaKey:a.ctrlKey;this.state=a.state;this.Ha=a;delete this.Na;delete this.ja};
n.preventDefault=function(){zb.wb.preventDefault.call(this);var a=this.Ha;if(a.preventDefault)a.preventDefault();else if(a.returnValue=m,vb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};n.X=function(){zb.wb.X.call(this);this.relatedTarget=this.currentTarget=this.target=this.Ha=k};var Ab={},R={},S={},Bb={};
function T(a,b,c,d,e){if(b){if(s(b)){for(var f=0;f<b.length;f++)T(a,b[f],c,d,e);return k}var d=!!d,g=R;b in g||(g[b]={L:0,I:0});g=g[b];d in g||(g[d]={L:0,I:0},g.L++);var g=g[d],i=v(a),l;g.I++;if(g[i]){l=g[i];for(f=0;f<l.length;f++)if(g=l[f],g.Ka==c&&g.Ub==e){if(g.xa)break;return l[f].key}}else l=g[i]=[],g.L++;f=Cb();f.src=a;g=new qb;g.ib(c,f,a,b,d,e);c=g.key;f.key=c;l.push(g);Ab[c]=g;S[i]||(S[i]=[]);S[i].push(g);a.addEventListener?(a==o||!a.Kb)&&a.addEventListener(b,f,d):a.attachEvent(b in Bb?Bb[b]:
Bb[b]="on"+b,f);return c}throw Error("Invalid event type");}function Cb(){var a=Db,b=ub?function(c){return a.call(b.src,b.key,c)}:function(c){c=a.call(b.src,b.key,c);if(!c)return c};return b}function Eb(a,b,c,d,e){if(s(b))for(var f=0;f<b.length;f++)Eb(a,b[f],c,d,e);else{d=!!d;a:{f=R;if(b in f&&(f=f[b],d in f&&(f=f[d],a=v(a),f[a]))){a=f[a];break a}a=k}if(a)for(f=0;f<a.length;f++)if(a[f].Ka==c&&a[f].capture==d&&a[f].Ub==e){Fb(a[f].key);break}}}
function Fb(a){if(Ab[a]){var b=Ab[a];if(!b.xa){var c=b.src,d=b.type,e=b.Wc,f=b.capture;c.removeEventListener?(c==o||!c.Kb)&&c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in Bb?Bb[d]:Bb[d]="on"+d,e);c=v(c);e=R[d][f][c];if(S[c]){var g=S[c];Ma(g,b);0==g.length&&delete S[c]}b.xa=j;e.Sc=j;Gb(d,f,c,e);delete Ab[a]}}}
function Gb(a,b,c,d){if(!d.nb&&d.Sc){for(var e=0,f=0;e<d.length;e++)d[e].xa?d[e].Wc.src=k:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.Sc=m;0==f&&(delete R[a][b][c],R[a][b].L--,0==R[a][b].L&&(delete R[a][b],R[a].L--),0==R[a].L&&delete R[a])}}function Hb(a){var b,c=0,d=b==k;b=!!b;if(a==k)sb(S,function(a){for(var e=a.length-1;0<=e;e--){var f=a[e];if(d||b==f.capture)Fb(f.key),c++}});else if(a=v(a),S[a])for(var a=S[a],e=a.length-1;0<=e;e--){var f=a[e];if(d||b==f.capture)Fb(f.key),c++}}
function Ib(a,b,c,d,e){var f=1,b=v(b);if(a[b]){a.I--;a=a[b];a.nb?a.nb++:a.nb=1;try{for(var g=a.length,i=0;i<g;i++){var l=a[i];l&&!l.xa&&(f&=Jb(l,e)!==m)}}finally{a.nb--,Gb(c,d,b,a)}}return Boolean(f)}function Jb(a,b){var c=a.handleEvent(b);a.vc&&Fb(a.key);return c}
function Db(a,b){if(!Ab[a])return j;var c=Ab[a],d=c.type,e=R;if(!(d in e))return j;var e=e[d],f,g;if(!ub){var i;if(!(i=b))a:{i="window.event".split(".");for(var l=o;f=i.shift();)if(l[f]!=k)l=l[f];else{i=k;break a}i=l}f=i;i=j in e;l=m in e;if(i){if(0>f.keyCode||f.returnValue!=h)return j;a:{var q=m;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(x){q=j}if(q||f.returnValue==h)f.returnValue=j}}q=new zb;q.ib(f,this);f=j;try{if(i){for(var p=[],O=q.currentTarget;O;O=O.parentNode)p.push(O);g=e[j];g.I=g.L;
for(var E=p.length-1;!q.ja&&0<=E&&g.I;E--)q.currentTarget=p[E],f&=Ib(g,p[E],d,j,q);if(l){g=e[m];g.I=g.L;for(E=0;!q.ja&&E<p.length&&g.I;E++)q.currentTarget=p[E],f&=Ib(g,p[E],d,m,q)}}else f=Jb(c,q)}finally{if(p)p.length=0;q.cb()}return f}d=new zb(b,this);try{f=Jb(c,d)}finally{d.cb()}return f};function Kb(){}w(Kb,wb);n=Kb.prototype;n.Kb=j;n.ec=k;n.addEventListener=function(a,b,c,d){T(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){Eb(this,a,b,c,d)};
n.dispatchEvent=function(a){var b=a.type||a,c=R;if(b in c){if(t(a))a=new Q(a,this);else if(a instanceof Q)a.target=a.target||this;else{var d=a,a=new Q(b,this);wa(a,d)}var d=1,e,c=c[b],b=j in c,f;if(b){e=[];for(f=this;f;f=f.ec)e.push(f);f=c[j];f.I=f.L;for(var g=e.length-1;!a.ja&&0<=g&&f.I;g--)a.currentTarget=e[g],d&=Ib(f,e[g],a.type,j,a)&&a.Na!=m}if(m in c)if(f=c[m],f.I=f.L,b)for(g=0;!a.ja&&g<e.length&&f.I;g++)a.currentTarget=e[g],d&=Ib(f,e[g],a.type,m,a)&&a.Na!=m;else for(e=this;!a.ja&&e&&f.I;e=e.ec)a.currentTarget=
e,d&=Ib(f,e,a.type,m,a)&&a.Na!=m;a=Boolean(d)}else a=j;return a};n.X=function(){Kb.wb.X.call(this);Hb(this);this.ec=k};var Lb,Mb,Nb,Ob,Pb=Xa();(Lb=P&&bb&&/(ipod|iphone|ipad)/i.test(Pb))&&u(Object.freeze);Mb=P&&bb&&/(android)/i.test(Pb);Nb=P&&/playbook/i.test(Pb);Ob=r(document.ontouchmove);function Qb(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Qb.prototype.e=function(){return new Qb(this.left,this.top,this.width,this.height)};Qb.prototype.contains=function(a){return a instanceof Qb?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};Qb.prototype.f=function(){return new A(this.width,this.height)};var Rb;function Sb(a){return(a=a.className)&&"function"==typeof a.split?a.split(/\s+/):[]}function Tb(a,b){var c=Sb(a),d=Qa(arguments,1),e;e=c;for(var f=0,g=0;g<d.length;g++)0<=L(e,d[g])||(e.push(d[g]),f++);e=f==d.length;a.className=c.join(" ");return e}function Ub(a,b){for(var c=Sb(a),d=Qa(arguments,1),e=c,f=0,g=0;g<e.length;g++)0<=L(d,e[g])&&(Pa(e,g--,1),f++);a.className=c.join(" ")};var Vb=!N||pb();!ab&&!N||N&&pb()||ab&&nb("1.9.1");N&&nb("9");function Wb(a){return a?new Xb(Yb(a)):Rb||(Rb=new Xb)}function Zb(a,b){var c=b&&"*"!=b?b.toUpperCase():"";return a.querySelectorAll&&a.querySelector&&(!P||$b(document)||nb("528"))&&c?a.querySelectorAll(c+""):a.getElementsByTagName(c||"*")}function ac(a,b){sb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in bc?a.setAttribute(bc[d],b):0==d.lastIndexOf("aria-",0)?a.setAttribute(d,b):a[d]=b})}
var bc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};
function cc(a){var b=a.document;if(P&&!nb("500")&&!bb){"undefined"==typeof a.innerHeight&&(a=window);var b=a.innerHeight,c=a.document.documentElement.scrollHeight;a==a.top&&c<b&&(b-=15);return new A(a.innerWidth,b)}a=$b(b)?b.documentElement:b.body;return new A(a.clientWidth,a.clientHeight)}function dc(a,b,c){return ec(document,arguments)}
function ec(a,b){var c=b[0],d=b[1];if(!Vb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ca(d.name),'"');if(d.type){c.push(' type="',Ca(d.type),'"');var e={};wa(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)t(d)?c.className=d:s(d)?Tb.apply(k,[c].concat(d)):ac(c,d);2<b.length&&fc(a,c,b,2);return c}
function fc(a,b,c,d){function e(c){c&&b.appendChild(t(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];da(f)&&!(fa(f)&&0<f.nodeType)?Ia(gc(f)?Oa(f):f,e):e(f)}}function $b(a){return"CSS1Compat"==a.compatMode}function hc(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)}function ic(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function U(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function jc(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Yb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function kc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{for(var c;c=a.firstChild;)a.removeChild(c);a.appendChild(Yb(a).createTextNode(b))}}function gc(a){if(a&&"number"==typeof a.length){if(fa(a))return"function"==typeof a.item||"string"==typeof a.item;if(u(a))return"function"==typeof a.item}return m}function Xb(a){this.Y=a||o.document||document}n=Xb.prototype;
n.Ac=function(a,b,c){return ec(this.Y,arguments)};n.createElement=function(a){return this.Y.createElement(a)};n.createTextNode=function(a){return this.Y.createTextNode(a)};n.appendChild=function(a,b){a.appendChild(b)};n.append=function(a,b){fc(Yb(a),a,arguments,1)};n.contains=jc;function lc(a,b){var c;a:{c=Yb(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,k))){c=c[b]||c.getPropertyValue(b);break a}c=""}return c||(a.currentStyle?a.currentStyle[b]:k)||a.style[b]}function mc(a){var b=a.getBoundingClientRect();if(N)a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop;return b}
function nc(a){if(N)return a.offsetParent;for(var b=Yb(a),c=lc(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=lc(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return k}function oc(a,b,c){if(b instanceof A)c=b.height,b=b.width;else if(c==h)throw Error("missing height argument");a.style.width=pc(b);a.style.height=pc(c)}
function pc(a){"number"==typeof a&&(a=Math.round(a)+"px");return a}function qc(a){if("none"!=lc(a,"display"))return rc(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=rc(a);b.display=c;b.position=e;b.visibility=d;return a}function rc(a){var b=a.offsetWidth,c=a.offsetHeight,d=P&&!b&&!c;return(!r(b)||d)&&a.getBoundingClientRect?(a=mc(a),new A(a.right-a.left,a.bottom-a.top)):new A(b,c)}
function sc(a){var b=Wb(h),c=k;if(N)c=b.Y.createStyleSheet(),tc(c,a);else{var d=Zb(b.Y,"head")[0];d||(c=Zb(b.Y,"body")[0],d=b.Ac("head"),c.parentNode.insertBefore(d,c));c=b.Ac("style");tc(c,a);b.appendChild(d,c)}return c}function tc(a,b){N?a.cssText=b:a[P?"innerText":"innerHTML"]=b};var uc,vc,wc,xc,yc,zc,Ac;(function(){var a=P?"Webkit":ab?"Moz":$a?"O":N?"ms":"",b=dc("div").style;uc="-"+a.toLowerCase()+"-transform";vc=function(a){return b[a]!==h?a:m};wc=function(b){var d=b.charAt(0).toLowerCase()+b.substr(1),e=a+b;return vc(b)?b:vc(d)?d:vc(e)?e:h}})();var Bc=function(){var a=wc("BorderRadius");return function(b,c,d,e){e=e?"%":"px";d=r(d)?d:c;c=(s(c)?c.join(e+" "):c)+e+"/"+((s(d)?d.join(e+" "):d)+e);if(c!=b.pd)b.style[a]=b.pd=c}}();
function I(a){this.zb=[];this.va=1;this.te&&za(this,a)}I.prototype.scale=function(a,b){this.zb.push("scale("+a+","+b+")");return this};I.prototype.rotate=function(a,b){0!=a&&this.zb.push("rotate("+a+(b?b:"deg")+")");return this};I.prototype.translate=function(a,b,c){var d=1/this.va,e="translate";if(Lb||Nb)e+="3d";e+="("+a*d+"px,"+b*d+"px";if(Lb||Nb)e+=","+(c?c:0)*d+"px";this.zb.push(e+")");return this};
function za(a,b){if(1!=a.va){var c=1/a.va;a.scale(c,c);a.va=1}if(1!=b)a.scale(b,b),a.va=b;return a}I.prototype.toString=function(){1!=this.va&&za(this,1);return this.zb.join(" ")};var ya=function(){var a=wc("Transform");return function(b,c){var d=c.toString();if(d!=b.be)b.style[a]=b.be=d;na=1}}(),xa=function(){var a=wc("TransformOrigin");return function(b,c,d,e){e=e?"%":"px";c=c+e+" "+d+e;if(c!=b.ce)b.style[a]=b.ce=c}}();
(function(){function a(a,b){if(!a.length)return a;for(var e=a.split("),"),f=0;f<e.length-1;f++)e[f]+=")";e=Ja(e,function(a){return-1==a.indexOf(b)});return e.join(",")}var b=wc("Transition");xc=!!b&&!$a;yc=function(c,d,e,f){if(b){var g=a(c.style[b],d);g.length&&(g+=", ");g+=d+" "+e+"s cubic-bezier("+f[1]+","+f[2]+","+f[3]+","+f[4]+")";c.style[b]=g}};zc=function(c,d){b&&c&&(c.style[b]=a(c.style[b],d))};Ac=function(a,b,e){if(a.ee!=b||a.Fd!=e)a.ee=b,a.Fd=e,oc(a,b,e)}})();var J=new ua;J.na=function(){for(var a=0,b,c=0;b=this.d[c];c++)b=b instanceof V?b.t:b,b==this.a.childNodes[a]?a++:(jc(this.H,b)&&U(b),J.nd(this.H,b,a++))};
J.ud=function(){var a=this.f(),b=this.wa,c=this.c,d=this.Q||1;this.l[G]&&(c=this.l[G]);var e=Math.round(a.width*d),f=Math.round(a.height*d),g=this.z.e();this.l[F]&&(g=this.l[F].e());0!=e?g.scale(a.width/(e*b/d)):g.scale(1/b);Ac(this.a,e,f);xa(this.a,100*this.P.x,100*this.P.y,j);e=this.P.x*a.width*d;f=this.P.y*a.height*d;a=c.x*d/b-e;b=c.y*d/b-f;c=this.O?this.O.mc:0;(0!=e-c||0!=f-c)&&this.a==this.H&&this.d.length&&J.Pd.call(this);this.a!=this.H&&!this.K[G]&&!this.K[F]&&!this.K[H]&&ya(this.H,(new I).translate(e-
c,f-c));this.h!=this.V&&(this.V&&J.Yc.call(this),this.h&&J.pc.call(this));c=za(new I,0.1);this.h&&(J.tc.call(this.h),za(za(c,0.1).translate(-this.h.Nd-e,-this.h.Od-f).rotate(this.h.Oc,"rad").translate(e,f),1));e=-(this.w%=360);r(this.l[H])&&(e=-this.l[H]);c.translate(a,b).scale(g.x,g.y).rotate(e);!this.K[G]&&!this.K[F]&&!this.K[H]&&ya(this.a,c)};
J.update=function(){if(this.a){J.ud.call(this);if(!this.K[Cc]){var a=this.ba;r(this.l[Cc])&&(a=this.l[Cc]);if(this.o&Dc){var b=this.a.style;if("opacity"in b)b.opacity=a;else if("MozOpacity"in b)b.MozOpacity=a;else if("filter"in b)b.filter=""===a?"":"alpha(opacity="+100*a+")"}}this.o&Ec&&(this.a.style.display=this.Vb?"none":"block");this.ia||this.m.r.call(this,this.a)}};
J.tc=function(){if(r(this.kc)&&this.kc.p){var a=this.kc,b=this.n(),c=new y(b.left,b.top),d=new y(b.right,b.top),e=new y(b.right,b.bottom),b=a.getParent(),c=!this.p?c:b.ca(this.La(c)),d=!this.p?d:b.ca(this.La(d)),e=!this.p?e:b.ca(this.La(e)),b=Math.atan2(c.y-d.y,d.x-c.x),f=d.x-c.x,g=c.y-d.y,i=e.x-d.x,l=e.y-d.y,d=Math.cos(b),e=Math.sin(b);this.bc=Math.round(Math.sqrt(f*f+g*g));this.ac=Math.round(Math.sqrt(i*i+l*l));if(B(a.m)==J)f=a.t,oc(f,this.bc,this.ac),ya(f,za(new I,0.1).translate(c.x,c.y).rotate(-b,
"rad"));B(this.m)==J&&(this.a.style.display="none");this.Nc=Fc(a,c.e());this.Md=j;this.Nd=d*c.x-e*c.y;this.Od=d*c.y+e*c.x;this.Oc=b}};J.nd=function(a,b,c){c==h||a.childNodes.length<=c?a.appendChild(b):a.insertBefore(b,a.childNodes[c])};J.Pd=function(){this.H=dc("div");for(var a=document.createDocumentFragment(),b;b=this.a.firstChild;)this.a.removeChild(b),a.appendChild(b);this.H.appendChild(a);this.a.appendChild(this.H)};
J.Yc=function(){if(this.a!=this.t){if(B(this.m)==J){U(this.a);var a=this.t,b=a.parentNode;b&&b.replaceChild(this.a,a);this.t=this.a}this.V.Xb=0;this.V=k}};J.pc=function(){if(B(this.m)==J){this.t=dc("div");this.t.style.cssText="position:absolute;overflow:hidden;";xa(this.t,0,0);var a=this.a,b=a.parentNode;b&&b.replaceChild(this.t,a);this.t.appendChild(this.a)}this.h.Xb=1;this.h.kc=this;this.V=this.h;W(this.h,Gc)};var Hc;(Hc="ScriptEngine"in o&&"JScript"==o.ScriptEngine())&&(o.ScriptEngineMajorVersion(),o.ScriptEngineMinorVersion(),o.ScriptEngineBuildVersion());function Ic(a,b){this.G=Hc?[]:"";a!=k&&this.append.apply(this,arguments)}Hc?(Ic.prototype.Jb=0,Ic.prototype.append=function(a,b,c){b==k?this.G[this.Jb++]=a:(this.G.push.apply(this.G,arguments),this.Jb=this.G.length);return this}):Ic.prototype.append=function(a,b,c){this.G+=a;if(b!=k)for(var d=1;d<arguments.length;d++)this.G+=arguments[d];return this};Ic.prototype.clear=function(){Hc?this.Jb=this.G.length=0:this.G=""};
Ic.prototype.toString=function(){if(Hc){var a=this.G.join("");this.clear();a&&this.append(a);return a}return this.G};N&&nb(8);(function(){var a=[[],[]],b=[[],[]];oa=function(c,d,e){La((e?b:a)[d||0],c)};pa=function(){for(var c,d=0;2>d;d++){for(;a[d].length;)c=a[d][0],c.update(d),c.o=0,c==a[d][0]&&a[d].shift();a[d]=[]}b=[[],[]]}})();var Gc=1,Dc=16,Ec=32,G=1,F=2,H=4,Cc=5,Jc;var Kc=new Ic;
Kc.append(".","lime-director"," {position:absolute; -webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; image-rendering:  optimizeSpeed; overflow: hidden;}.","lime-director"," div, .","lime-director"," img, .","lime-director"," canvas {-webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; position: absolute; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; -moz-user-select: none; -webkit-user-select: none; -webkit-user-drag: none;}.",
"lime-scene"," {position:absolute; width:100%; height:100%; left: 0px; top: 0px; overflow: hidden; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;}.","lime-fps"," {float: left; background: #333; color: #fff; position: absolute; top:0px; left: 0px; padding:2px 4px;}div.","lime-layer"," {position: absolute; left: 0px; top: 0px; width:0px; height:0px; border: none !important;}.","lime-cover"," {position: absolute; left: 0px; top: 0px;}.","lime-button"," {cursor: pointer;}");
Jc=Kc.toString();sc(Jc);function V(){this.d=[];this.i=k;this.za={};this.l={};this.K={};this.lc={};this.p=m;this.ic=this.Pb=k;this.u={};this.$c(1);this.D(0,0);this.A(0,0);this.wa=1;this.Pa(0.5,0.5);Lc(this,0);this.qc=0;W(this,7);this.ba=1;Mc(this);Nc(this,B(this.ya[0]));W(this,64)}w(V,Kb);n=V.prototype;n.ya=[J,C];function Nc(a,b){if(!a.m||B(a.m)!=b){for(var c=-1,d=0;d<a.ya.length;d++)if(B(a.ya[d])==b){c=d;break}if(-1!=c){a.m=a.ya[d];W(a,64);for(d=0;c=a.d[d];d++)Nc(c,b)}}}n.Ma=function(){return!(this.i&&B(this.i.m)==C)};
function Oc(a){return a.Ma()?(a.Ma()?Pc(a):Qc(a),a):a.i?Oc(a.i):k}function Rc(a){if(!a.i||a instanceof D)return[];var b=a.i.d.indexOf(a),a=Rc(a.i);a.push(b);return a}function Sc(a,b){if(a==b)return 0;for(var c=Rc(a),d=Rc(b),e=0;;){if(c.length<=e)return 1;if(d.length<=e)return-1;if(c[e]==d[e])e++;else return c[e]>d[e]?-1:1}}n.Kb=m;function W(a,b,c,d){b&&!a.o&&oa(a,c,d);a.o|=b;if(64==b)for(c=0;d=a.d[c];c++)d instanceof V&&W(d,64);if(!r(a.o)||!b)a.o=0;if(b&&a.ia)a.Md=m,W(a.ia,-1);return a}
n.$c=function(a,b){this.z=1==arguments.length&&ea(a)?new M(a,a):2==arguments.length?new M(arguments[0],arguments[1]):a;this.l[F]||W(this,2)};n.D=function(a,b){this.c=2==arguments.length?new y(arguments[0],arguments[1]):a;return this.l[G]?this:W(this,Gc)};function Mc(a){if(k!=a.h){if(a.h){var b=a.h;delete b.Ob;Tc(b,b.getParent());delete a.h.ia}a.h=k;if(a.h)Uc(a.h),a.h.ia=a;W(a,4)}}n.Pa=function(a,b){this.P=2==arguments.length?new M(arguments[0],arguments[1]):a;return W(this,Gc)};
function Lc(a,b){a.w=b;a.l[H]||W(a,Gc)}n.f=aa("q");
n.A=function(a,b){var c=this.q,d,e;d=2==arguments.length?new A(arguments[0],arguments[1]):a;var f=this.P;if(c&&this.d.length)for(var g=0;g<this.d.length;g++){var i=this.d[g];if(i.Cd){var l=i.qc;if(0!=l){var q=X(i);e=c.width;var x=q.left+f.x*c.width,p=q.right-q.left,O=e-q.right-f.x*c.width;l&1&&(e-=x);l&2&&(e-=p);l&4&&(e-=O);e!=c.width&&(e=(d.width-e)/(c.width-e),l&1&&(x*=e),l&2&&(p*=e));e=c.height;var O=q.top+f.y*c.height,E=q.bottom-q.top,q=e-q.bottom-f.y*c.height;l&8&&(e-=O);l&16&&(e-=E);l&32&&(e-=
q);e!=c.height&&(e=(d.height-e)/(c.height-e),l&8&&(O*=e),l&16&&(E*=e));l=i.P;i.A(p,E);i.D(x+l.x*p-f.x*d.width,O+l.y*E-f.y*d.height)}}}this.q=d;return W(this,2)};function Vc(a){a.Q||Wc(a);return a.Q}function Wc(a){var b=r(a.Q)?a.Q:a.wa;a.i&&a.i.Q&&(b=a.wa*a.i.Q);if(b!=a.Q){a.Q=b;for(var b=0,c;c=a.d[b];b++)c instanceof V&&Wc(c);W(a,2)}}n.Cd=aa("qc");n.ca=function(a){return!this.p?a:Fc(this,this.getParent().ca(a))};
function Fc(a,b){if(!a.getParent())return k;b.x-=a.c.x;b.y-=a.c.y;b.x/=a.z.x;b.y/=a.z.y;if(0!=a.w){var c=b.e(),d=a.w*Math.PI/180,e=Math.cos(d),d=Math.sin(d);b.x=e*c.x-d*c.y;b.y=e*c.y+d*c.x}return b}n.La=function(a){return!this.p?a:this.getParent().La(Aa(this,a))};function Aa(a,b){if(!a.getParent())return b;var c=b.e();if(0!=a.w){var d=-a.w*Math.PI/180,e=Math.cos(d),d=Math.sin(d);c.x=e*b.x-d*b.y;c.y=e*b.y+d*b.x}c.x*=a.z.x;c.y*=a.z.y;c.x+=a.c.x;c.y+=a.c.y;return c}
function Pc(a){function b(){this.a=this.t=this.H=dc(c);this.Sb&&Tb(this.a,this.Sb);this.o|=-1}var c=B(a.m)==C?"canvas":"div";if(a.a){if(a.a.tagName.toLowerCase()!=c){var d=a.t;b.call(a);d.parentNode&&d.parentNode.replaceChild(a.t,d)}}else b.call(a)}function Qc(a){a.t&&(U(a.t),delete a.a,delete a.t,delete a.H)}n.na=function(){this.o&=-65;this.Ma()?Pc(this):Qc(this);if(this.i&&this.i.o&64)this.i.na();else if(this.Ma()){for(var a=0,b;b=this.d[a];a++)b instanceof V&&b.na();this.m.na.call(this)}};
n.update=function(a){var b,c,a=a||0;v(this);this.o&64&&this.na();var d=B(this.m)==J||a;if(d){for(var e in this.lc)delete this.l[e],delete this.K[e],b=parseInt(e,10)==Cc?"opacity":uc,zc(this.a,b),this.a!=this.H&&zc(this.ke,b);b=0;for(e in this.za)c=this.za[e],c[3]||(c[3]=1,e==G&&this.Td!=this.c&&(W(this,Gc,0,j),b=1),e==F&&this.Xd!=this.z&&(W(this,2,0,j),b=1),e==Cc&&this.Rd!=this.ba&&(W(this,Dc,0,j),b=1),e==H&&this.Wd!=this.w&&(W(this,128,0,j),b=1));if(!b)for(e in this.za){c=this.za[e];b=parseInt(e,
10)==Cc?"opacity":uc;if(B(this.m)==J||"opacity"!=b)this.l[e]=c[0],yc(this.a,b,c[1],c[2]),this.a!=this.H&&b==uc&&yc(this.H,b,c[1],c[2]);delete this.za[e]}this.Td=this.c;this.Xd=this.z;this.Rd=this.ba;this.Wd=this.w;this.lc={}}if(a)this.m.td.call(this);else{if(B(this.m)==C){c=Oc(this);c.rb=1;if(c==this&&this.o==Gc&&!this.h)c.rb=0;oa(Oc(this),1)}this.m.update.call(this)}if(d)for(e in this.l)this.l[e]&&(this.K[e]=j);if(this.fa)for(e=0;e<this.fa.length;e++)W(this.fa[e],7);W(this,0,a)};
n.getParent=function(){return this.i?this.i:k};n.appendChild=function(a,b){a instanceof V&&a.getParent()?a.getParent().removeChild(a):a.parentNode&&U(a);a.i=this;b==h?this.d.push(a):Pa(this.d,b,0,a);B(this.m)!=J&&Nc(a,B(this.m));a instanceof V&&(Wc(a),this.p&&Xc(a));return W(this,64)};
n.removeChild=function(a){a=this.d.indexOf(a);if(0<=a&&this.d.length>a){var b=0<=a&&this.d.length>a?this.d[a]:k;b.ia&&Mc(b.ia);b instanceof V?(this.p&&Yc(b),Qc(b),b.i=k):U(b);this.d.splice(a,1);a=W(this,64)}else a=this;return a};n.addEventListener=function(a){Ob&&"mouse"==a.substring(0,5)||(r(this.u[a])||(this.u[a]=[0,0]),this.p&&0==this.u[a][0]&&(this.u[a][0]=1,this.B().ua.sb(this,a)),this.u[a][1]++)};
n.removeEventListener=function(a){Ob&&"mouse"==a.substring(0,5)||(this.p&&1==this.u[a][1]&&(this.u[a][0]=0,this.B().ua.tb(this,a)),this.u[a][1]--,this.u[a][1]||delete this.u[a])};n.B=function(){return!this.p?k:this.Pb};n.hb=function(){return!this.p?k:this.ic};function Yc(a){var b;a.Ob||Tc(a,a.getParent());for(var c=0;b=a.d[c];c++)b instanceof V&&Yc(b);for(var d in a.u){a.u[d][0]=0;if(!a.B())debugger;a.B().ua.tb(a,d)}Zc(a.B().ua,a);a.p=m;a.Pb=k;a.ic=k}
function Xc(a){a.p=j;a.Pb=a.i.B();a.ic=a.i.hb();for(var b=0,c;c=a.d[b];b++)c instanceof V&&Xc(c);for(var d in a.u)a.u[d][0]=1,a.B().ua.sb(a,d);a.Ob&&Uc(a);Zc(a.B().ua,a)}function Uc(a){a.Ob=j;a.p&&$c(a,a.getParent())}function $c(a,b){if(!b.fa)b.fa=[];La(b.fa,a);!b&&!(b.getParent()instanceof D)&&$c(a,b.getParent())}function Tc(a,b){b&&b.fa&&(Ma(b.fa,a),Tc(a,b.getParent()))}n.n=function(){var a=this.f(),b=this.P;return new z(-a.height*b.y,a.width*(1-b.x),a.height*(1-b.y),-a.width*b.x)};
function X(a,b){var c=b||a.n(),d=new y(c.left,c.top),e=new y(c.right,c.top),f=new y(c.left,c.bottom),c=new y(c.right,c.bottom),d=Aa(a,d),e=Aa(a,e),f=Aa(a,f),c=Aa(a,c);return new z(Math.floor(Math.min(d.y,e.y,f.y,c.y)),Math.ceil(Math.max(d.x,e.x,f.x,c.x)),Math.ceil(Math.max(d.y,e.y,f.y,c.y)),Math.floor(Math.min(d.x,e.x,f.x,c.x)))}
n.ob=function(){var a=this.n();a.left==a.right&&this.d.length&&(a=X(this.d[0],this.d[0].ob()));for(var b=0,c;c=this.d[b];b++)if(1!=c.Xb){var d=a;c=X(c,c.ob());d.left=Math.min(d.left,c.left);d.top=Math.min(d.top,c.top);d.right=Math.max(d.right,c.right);d.bottom=Math.max(d.bottom,c.bottom)}return a};n.ab=function(a){this.lc[a]=1};n.Jc=function(a){var b=this.ca(a.Oa);return this.n().contains(b)?(a.position=b,j):m};function ad(a,b){La(b.Va,a);b.play()};var Y=new function(){this.J=[];this.pa=m;this.Lc=0;this.Rb=1E3/30;this.ha=0};function bd(a,b){this.S=this.Rc=a;this.Yb=r(b)?b:-1;this.$=[]}bd.prototype.ea=function(a){if(this.$.length)if(this.S>a)this.S-=a;else{var b=this.Rc+a-this.S;this.S=this.Rc-(a-this.S);if(0>this.S)this.S=0;for(var c,a=this.$.length;0<=--a;)(c=this.$[a])&&c[0]&&u(c[1])&&c[1].call(c[2],b);-1!=this.Yb&&(this.Yb--,0==this.Yb&&Y.yb(c[1],c[2]))}};Y.J.push(new bd(0));Y.nc=o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame;
Y.oe=aa("Rb");Y.xe=function(a){this.Rb=a;this.pa&&(Y.Cc(),Y.oc())};Y.ka=function(a,b,c){c=r(c)?c:this.J[0];La(c.$,[1,a,b]);La(this.J,c);this.pa||Y.oc()};Y.yb=function(a,b){for(var c=this.J.length;0<=--c;){for(var d=this.J[c],e=d.$,f,g=e.length;0<=--g;)f=e[g],f[1]==a&&f[2]==b&&Ma(e,f);0==e.length&&0!=c&&Ma(this.J,d)}1==this.J.length&&0==this.J[0].$.length&&Y.Cc()};
Y.oc=function(){if(!this.pa)this.ha=la(),Y.nc?o.mozRequestAnimationFrame?(o.mozRequestAnimationFrame(),this.sc=ka(Y.od,this),o.addEventListener("MozBeforePaint",this.sc,m)):(this.Gb=ka(Y.md,this),o.webkitRequestAnimationFrame(this.Gb)):this.Lc=setInterval(ka(Y.ae,this),Y.Rb),this.pa=j};Y.Cc=function(){if(this.pa)Y.nc?o.mozRequestAnimationFrame?o.removeEventListener("MozBeforePaint",this.sc,m):o.webkitCancelRequestAnimationFrame(this.Gb):clearInterval(this.Lc),this.pa=m};
Y.md=function(a){a||(a=la());Y.Qb(a-this.ha);this.ha=a;o.webkitRequestAnimationFrame(this.Gb)};Y.od=function(a){Y.Qb(a.timeStamp-this.ha);this.ha=a.timeStamp;o.mozRequestAnimationFrame()};Y.ae=function(){var a=la(),b=a-this.ha;0>b&&(b=1);Y.Qb(b);this.ha=a};Y.Qb=function(a){for(var b=this.J.length;0<=--b;)this.J[b].ea(a);if(1==na&&/Firefox\/4./.test(Xa())&&!ma.ge)Y.Uc?(document.body.style.MozTransform="",Y.Uc=0):(document.body.style.MozTransform="scale(1,1)",Y.Uc=1),na=0};
Y.qd=function(a){for(var b,c,d,e,f=this.J.length;0<=--f;){b=this.J[f];for(e=b.$.length;0<=--e;)d=b.$[e],c=d[2],u(c.B)&&(c=c.B(),c==a&&(d[0]=j))}};Y.uc=function(a,b,c){Y.Zc(a,b,c,1)};Y.Zc=function(a,b,c,d){Y.ka(a,b,new bd(c,d))};var cd;function dd(){this.Va=[];this.Wb=[];this.xb={};this.pe=m;this.ta=1;this.Tb=ed;this.Ra=0}w(dd,Kb);n=dd.prototype;n.scope="";n.jc=function(a){this.ta=a;return this};function fd(a){a.Tb=gd;return a}n.play=function(){this.gc=0;this.Gc=this.Ra=1;Y.ka(this.ea,this);this.dispatchEvent({type:"start"})};n.stop=function(){if(0!=this.Ra){var a=this.Wb;if(hd(this)&&this.ab)for(var b=a.length;0<=--b;)this.ab(a[b]);this.Wb=[];this.xb={};this.Ra=0;Y.yb(this.ea,this);this.dispatchEvent({type:"stop"})}};
n.Qc=function(){return{}};function id(a,b){var c=v(b);if(!r(a.xb[c]))jd.sb(a,b),a.Ra=1,La(a.Wb,b),a.vb&&!a.ad&&a.Ea&&a.Ea(),a.xb[c]=a.Qc(b);return a.xb[c]}n.B=function(){return this.Va[0]?this.Va[0].B():k};n.ea=function(a){this.vb&&!this.ad&&this.Ea&&this.Ea();this.Gc&&(delete this.Gc,a=1);this.gc+=a;this.vd=a;a=this.gc/(1E3*this.ta);if(isNaN(a)||1<=a)a=1;a=this.fd(a,this.Va);1==a&&this.stop()};n.fd=function(a,b){a=this.Tb[0](a);isNaN(a)&&(a=1);for(var c=b.length;0<=--c;)this.update(a,b[c]);return a};
function hd(a){return 0<a.ta&&xc&&a.ue&&!Mb&&!ab}var jd=new function(){this.R={}};jd.sb=function(a,b){if(a.scope.length){var c=v(b);r(this.R[c])||(this.R[c]={});r(this.R[c][a.scope])&&this.R[c][a.scope].stop();this.R[c][a.scope]=a}};jd.Ae=function(a){a=v(a);if(r(this.R[a]))for(var b in this.R[a])this.R[a][b].stop(),delete this.R[a][b]};
(function(){function a(a){var e,f,g,p;for(g=a,f=0;8>f;f++){p=((b*g+c)*g+d)*g-a;if(5.0E-5>(0<=p?p:0-p))return g;e=(3*b*g+2*c)*g+d;if(1.0E-6>(0<=e?e:0-e))break;g-=p/e}e=0;f=1;g=a;if(g<e)return e;if(g>f)return f;for(;e<f;){p=((b*g+c)*g+d)*g;if(5.0E-5>(0<=p-a?p-a:0-(p-a)))break;a>p?e=g:f=g;g=0.5*(f-e)+e}return g}var b=0,c=0,d=0,e=0,f=0,g=0;cd=function(i,l,q,x){return[function(p){d=3*i;c=3*(q-i)-d;b=1-d-c;g=3*l;f=3*(x-l)-g;e=1-g-f;return((e*a(p)+f)*a(p)+g)*a(p)},i,l,q,x]}})();
var gd=cd(0,0,1,1),ed=cd(0.42,0,0.58,1);function kd(){}w(kd,Kb);kd.prototype.jb=ba;function ld(a){if(a[0]instanceof kd)return a[0];s(a)||(a=s(arguments)?Na(arguments):Oa(arguments));return 2<a.length?new md(a):t(a[0])&&("rgb("==a[0].substring(0,4)||"rgba("==a[0].substring(0,5)||"#"==a[0].substring(0,1))?new md(a[0]):new nd(a[0])}kd.prototype.Qa=ba;kd.prototype.ub=ba;function md(a){this.Da=1;this.Yd(a)}w(md,kd);n=md.prototype;n.id="color";n.Yd=function(a){var b=a;if(t(a))this.Sa=a;else{2<arguments.length&&(b=arguments);if(3<=b.length)this.qb=b[0],this.gb=b[1],this.Za=b[2];if(4==b.length)this.Da=b[3];this.Sa=1==this.Da?"rgb("+this.qb+","+this.gb+","+this.Za+")":"rgba("+this.qb+","+this.gb+","+this.Za+","+this.Da+")"}};n.Qa=function(a){a.style.background=this.Sa};n.ub=function(a){a.fillStyle=this.Sa};
n.e=function(){var a=new md("");a.qb=this.qb;a.gb=this.gb;a.Za=this.Za;a.Da=this.Da;a.Sa=this.Sa;return a};function nd(a){a&&u(a.data)&&(a=a.data());if(t(a)){this.F=a;if(50<this.F.length)this.F=this.F.substr(-50);od[this.F]?this.j=od[this.F]:(this.j=new Image,this.j.src=a)}else{this.F=a.src;if(50<this.F.length)this.F=this.F.substr(-50);this.j=od[this.F]?od[this.F]:a}pd(this)||T(this.j,"load",this.Gd,m,this);od[this.F]=this.j}w(nd,kd);var od={};n=nd.prototype;n.id="image";
n.jb=function(a){var b=a.f(),c=this;!b.width&&!b.height&&(pd(this)?a.A(this.j.width,this.j.height):T(this,"load",function(){var a=this.f();!a.width&&!a.height&&this.A(c.j.width,c.j.height)},m,a));pd(this)||T(this,"load",function(){W(a,4)},m,this)};n.Gd=function(a){this.dispatchEvent(a)};n.Ic=aa("j");function pd(a){return a.j&&a.j.width&&a.j.height}n.A=function(a,b,c){ea(a)&&(a=new A(a,b),b=c||m);this.q=a;this.$d=b;return this};
function qd(a,b){var c=b.f().e();if(a.q)a.$d?(c.width*=a.q.width,c.height*=a.q.height):c=a.q;var d=new y(0,0);if(a.dc)a.se?(d.x=c.width*a.dc.x,d.y=c.height*a.dc.y):d=a.dc;return[c,d]}function rd(a,b,c){var d=qd(a,c),e=d[0],d=d[1],f=Vc(c);b.style[wc("BackgroundSize")]=e.width*f+"px "+e.height*f+"px";c=c.O?c.O.mc:0;b.style.backgroundPosition=d.x*f-c+"px "+(d.y*f-c)+"px";a.Ud&&(b.style.imageRendering="optimizeQuality")}n.Qa=function(a,b){a.style.background="url("+this.j.src+")";rd(this,a,b)};
n.ub=function(a,b){var c=b.f(),d=b.n();if(c.width&&c.height)try{var e=this.Ic(),f=qd(this,b),g=f[0],i=f[1],l=a.createPattern(e,"repeat"),q=g.width/e.width,x=g.height/e.height;a.save();a.translate(d.left+i.x,d.top+i.y);a.scale(q,x);a.fillStyle=l;a.fillRect(-i.x/q,-i.y/x,c.width/q,c.height/x);a.restore()}catch(p){}};C.s={};J.s={};function Z(){V.call(this);this.O=this.Ia=k}w(Z,V);Z.prototype.id="sprite";Z.prototype.ya=[va(J,J.s),va(C,C.s)];Z.prototype.la=function(a,b,c,d){this.Ia=ld(s(arguments)?Na(arguments):Oa(arguments));this.Ia.jb(this);W(this,4);return this};J.s.r=function(a){this.Ia===k||this.Ia.Qa(a,this);this.O===k?a.style.border="none":this.O.Qa(a,this)};
C.s.r=function(a){var b=this.f(),c=this.Ia,d=this.O;if(c||d){var e=this.n();c&&(c.ub(a,this),"image"!=c.id&&"frame"!=c.id&&a.fillRect(e.left,e.top,b.width,b.height));if(d&&(d.ub(a,this),"sprite"==this.id||"label"==this.id))c=d.mc/2,a.strokeRect(e.left+c,e.top+c,b.width-2*c,b.height-2*c)}};C.Ba={};J.Ba={};function sd(){Z.call(this);td(this,5)}w(sd,Z);sd.prototype.id="roundedrect";sd.prototype.ya=[va(J.s,J.Ba),va(C.s,C.Ba)];function td(a,b){a.Be=m;a.hc=b;return a}J.Ba.r=function(a){this.f();J.s.r.call(this,a);Bc(a,[this.hc*this.wa,this.hc*this.wa])};
C.Ba.r=function(a){this.f();var b=this.n(),c=this.hc,d=b.left,e=b.top,f=b.right-b.left,b=b.bottom-b.top;a.save();a.beginPath();a.moveTo(d+c,e);a.lineTo(d+f-c,e);a.quadraticCurveTo(d+f,e,d+f,e+c);a.lineTo(d+f,e+b-c);a.quadraticCurveTo(d+f,e+b,d+f-c,e+b);a.lineTo(d+c,e+b);a.quadraticCurveTo(d,e+b,d,e+b-c);a.lineTo(d,e+c);a.quadraticCurveTo(d,e,d+c,e);a.closePath();a.clip();C.s.r.call(this,a);this.O&&(a.lineWidth*=2,a.stroke());a.restore()};function ud(a){this.v=a;this.kd=480;this.rows=12;this.cols=15;this.ne=Array(10);this.he=Math.round(this.kd/this.cols);this.jd=10;this.fe=new y(a.Eb/2,0);this.back=td((new sd).A(480,320).Pa(0,0).D(0,0),0);/Chrome\/9\.0\.597/.test(Xa())&&Nc(this.back,C);for(a=0;a<this.cols;a++)for(var b=0;b<this.rows;b++){var c=(new Z).la("assets/slatefloor.png").Pa(0,0).A(32,32).D(32*a,32*b);c.Ud=j;this.back.appendChild(c)}}
function vd(a){var b=a.v,c=new wd(b);b.appendChild(a.back);c.D(b.Eb/2,b.hd-c.f().height);Y.Zc(function(){if(b.Xa.length<this.jd){var a=new xd(b);a.D(b.Eb/2,0);La(b.Xa,a);b.appendChild(a)}},a,1E3);Lc(c,90);yd(b,c)};var zd={data:function(){return'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"><plist version="1.0"><dict><key>frames</key><dict><key>wizard01.png</key><dict><key>x</key><real>0</real><key>y</key><real>0</real><key>width</key><real>32</real><key>height</key><real>32</real><key>offsetX</key><real>0</real><key>offsetY</key><real>-0</real><key>originalWidth</key><real>32</real><key>originalHeight</key><real>32</real></dict><key>wizard02.png</key><dict><key>x</key><real>0</real><key>y</key><real>34</real><key>width</key><real>32</real><key>height</key><real>32</real><key>offsetX</key><real>0</real><key>offsetY</key><real>-0</real><key>originalWidth</key><real>32</real><key>originalHeight</key><real>32</real></dict><key>wizard03.png</key><dict><key>x</key><real>34</real><key>y</key><real>0</real><key>width</key><real>26</real><key>height</key><real>32</real><key>offsetX</key><real>0</real><key>offsetY</key><real>-0</real><key>originalWidth</key><real>32</real><key>originalHeight</key><real>32</real></dict></dict><key>texture</key><dict><key>width</key><integer>64</integer><key>height</key><integer>128</integer></dict></dict></plist>'}};function Ad(a){if("undefined"!=typeof DOMParser)return(new DOMParser).parseFromString(a,"application/xml");if("undefined"!=typeof ActiveXObject){var b=new ActiveXObject("MSXML2.DOMDocument");if(b){b.resolveExternals=m;b.validateOnParse=m;try{b.setProperty("ProhibitDTD",j),b.setProperty("MaxXMLSize",2048),b.setProperty("MaxElementDepth",256)}catch(c){}}b.loadXML(a);return b}throw Error("Your browser does not support loading xml documents");};var Bd=function(){function a(a){for(var d={},e=b(a,"key"),a=0;a<e.length;a++){var f;if(e[a].nextElementSibling!=h)f=e[a].nextElementSibling;else for(f=e[a].nextSibling;f&&1!=f.nodeType;)f=f.nextSibling;d[e[a].firstChild.nodeValue]=f}return d}function b(a,b){var e,f=[];for(e=0;e<a.childNodes.length;e++)a.childNodes[e].nodeName==b&&f.push(a.childNodes[e]);return f}return function(c){var d={},c=Ad(c),c=b(b(c,"plist")[1],"dict")[0],c=a(c),c=a(c.frames),e;for(e in c){var f=a(c[e]);f.aa=function(a){return parseFloat(f[a].firstChild.nodeValue)};
var g=f.aa("originalWidth"),i=f.aa("originalHeight"),l=f.aa("width"),q=f.aa("height");d[e]=[new Qb(f.aa("x"),f.aa("y"),l,q),new M((g-l)/2+f.aa("offsetX"),(i-q)/2+f.aa("offsetY")),new A(g,i),m]}return d}}();function $(a,b,c,d,e){nd.call(this,a);ea(b)&&(b=new Qb(b,c,d,e),c=new M(0,0),d=new A(b.width,b.height),e=m);this.Xc=b;this.ra=c;this.W=d;this.Vd=e;a=this.Xc;a=[this.F,a.width,a.height,a.left,a.top,this.ra.x,this.ra.y].join("_");r(this.Mb[a])?(this.g=this.Mb[a],this.g.pb||T(this.g.kb,"processed",function(){this.dispatchEvent(new Q("processed"))},m,this)):(this.g={},this.g.pb=m,this.g.kb=this,this.g.qa=this.Dd(),this.Mb[a]=this.g,this.rd=this.Db?document.getCSSCanvasContext("2d",this.g.qa,this.W.width,
this.W.height):Cd(this),pd(this)?this.Pc():T(this,"load",this.Pc,m,this))}w($,nd);$.prototype.id="frame";$.prototype.Mb={};$.prototype.Db=u(document.getCSSCanvasContext);$.prototype.jb=function(a){var b=a.f();0==b.width&&0==b.height&&a.A(this.W.width,this.W.height);nd.prototype.jb.call(this,a);this.g&&this.g.pb||T(this,"processed",function(){W(a,4)},m,this)};
(function(){var a="cvsbg_"+Math.round(1E3*Math.random())+"_",b=0,c;$.prototype.Dd=function(){b++;return a+b};$.prototype.Pc=function(){Dd(this,this.rd);if(!this.Db){var a=this.sa.toDataURL("image/png"),b="."+this.g.qa+"{background-image:url("+a+") !important}";if(c)if(N)c.cssText+=b;else{var f=c,g=h;if(0>g||g==h)g=(f.rules||f.cssRules).length;if(f.insertRule)f.insertRule(b,g);else if(b=/^([^\{]+)\{([^\{]+)\}/.exec(b),3==b.length)f.addRule(b[1],b[2],g);else throw Error("Your CSSRule appears to be ill-formatted.");
}else sc(b),c=document.styleSheets[document.styleSheets.length-1];this.g.Hd=dc("img");this.g.Hd.src=a}this.g.pb=j;this.dispatchEvent(new Q("processed"))}})();$.prototype.Ic=function(){if(!this.Ja)this.g.kb&&this.g.kb.Ja?this.Ja=this.g.kb.Ja:(this.sa||Dd(this,Cd(this)),this.Ja=this.sa);return this.Ja};function Cd(a){a.sa=dc("canvas");var b=a.sa.getContext("2d");a.sa.width=a.W.width;a.sa.height=a.W.height;return b}
function Dd(a,b){var c=a.Xc,d=c.width,e=c.height,f=c.left,c=c.top,g,i;0>f&&(d+=f,f=0);0>c&&(e+=c,c=0);d+f>a.j.width&&(d=a.j.width-f);e+c>a.j.height&&(e=a.j.height-c);a.Vd?(b.rotate(0.5*-Math.PI),b.translate(-a.W.height,0),g=a.W.height-a.ra.y-d,i=a.ra.x):(g=a.ra.x,i=a.ra.y);b.drawImage(a.j,f,c,d,e,g,i,d,e)}
$.prototype.Qa=function(a,b){if(this.Db)a.style.background="-webkit-canvas("+this.g.qa+")";else if(this.g.qa!=b.Lb)Tb(a,this.g.qa),a.style.background="",b.Lb&&Ub(a,b.Lb),b.Lb=this.g.qa;rd(this,a,b)};function Ed(a,b,c){this.j=new nd(a);this.Qd=(c||Bd)(b.data())}Ed.prototype.n=function(a){var b=this.Qd[a];if(!b)throw"Frame "+a+" not found in the spritesheet";return new $(this.j.j,b[0],b[1],b[2],b[3])};function Fd(a,b){dd.call(this);this.Ga=2==arguments.length?new y(arguments[0],arguments[1]):a}w(Fd,dd);n=Fd.prototype;n.scope="move";function Gd(a){a.vb=1;a.Ea();return a}n.Qc=function(a){hd(this)&&(a.za[G]=[new y(a.c.x+this.Ga.x,a.c.y+this.Ga.y),this.ta,this.Tb,0],W(a,Gc));return{cd:a.c}};n.Ea=function(){if(this.vb)this.jc(this.vb*qa(this.Ga,new y(0,0))/100),this.ad=1};n.update=function(a,b){if(0!=this.Ra){var c=id(this,b);b.D(c.cd.x+this.Ga.x*a,c.cd.y+this.Ga.y*a)}};
n.ab=function(a){hd(this)&&(a.ab(G),W(a,Gc))};function Hd(){dd.call(this);this.Z=[];this.Tc=0;this.Ce=m;this.Bc=-1;this.Nb=1/15;this.$b=j}w(Hd,dd);n=Hd.prototype;n.scope="keyframe";function Id(a,b){a.Nb=b;return a}function Jd(a){a.$b=m}n.Fb=function(a){this.me=m;var b=ld(s(arguments)?Na(arguments):Oa(arguments));"image"==b.id&&!pd(b)?T(b,"load",this.Hc,m,this):"frame"==b.id&&(!a.g||!a.g.pb)?T(b,"processed",this.Hc,m,this):this.Tc++;this.Z.push(b)};n.Hc=function(){this.Tc++};n.play=function(){this.ga=0;dd.prototype.play.call(this)};
n.fd=function(a,b){for(var c=this.vd,d=Math.round(1E3*this.Nb),e=k,f=b.length,g=this.$b;0<=--f;)id(this,b[f]);this.ga+=c;c=this.Bc+1;if(this.ga>d&&(c<this.Z.length?e=j:g&&c>=this.Z.length?(e=j,c=0):e=m,e)){e=this.Z[c];f=b.length;if(0<f)for(;0<=--f;)this.Va[f].la(e);this.Bc=c;this.ga-=d;this.ga%=d}return g?0:c/this.Z.length};function Kd(a,b,c){Z.call(this);this.v=a;this.ed=c.e();this.A(16,16).la("assets/magic.png").D(b.e());this.v.appendChild(this);this.S=ra(this.ed,this.c);this.Ca=0.2;a=ra(this.ed,this.c);Lc(this,180*Math.atan2(-a.y,a.x)/Math.PI);this.b=(new M(a.x,a.y)).normalize();Y.ka(this.step,this)}w(Kd,Z);
Kd.prototype.step=function(a){var b=this.v.Xa,c=b.length,d=k;if(0<c)for(c-=1;0<=c;c--)if((d=b[c])&&sa(X(this),X(d)))Ld(d),d=this.v,d.removeChild(this),Ma(d.cc,this);if(!sa(X(this.v),X(this)))b=this.v,b.removeChild(this),Ma(b.cc,this);b=this.c;b.x+=this.b.x*a*this.Ca;b.y+=this.b.y*a*this.Ca;this.D(b)};function wd(a){Z.call(this);this.v=a;this.da=new Ed("assets/wizard.png",zd,Bd);this.status="stand";this.re=this.de=120;this.le=0;this.A(32,32).la(this.da.n("wizard01.png"));Y.ka(this.step,this)}w(wd,Z);function Md(a,b){a.Fa("move");var c=ra(b,a.c),d=180*Math.atan2(-c.y,c.x)/Math.PI,c=Gd(fd(new Fd(c))),e=new Hd;Lc(a,d);ad(a,c);e.Nb=1/6;for(d=1;2>=d;d++)e.Fb(a.da.n("wizard0"+d+".png"));ad(a,e);T(c,"stop",function(){e.stop();a.Fa("stand")});a.M=k}function Nd(a,b){if(b===a.M)a.M=k,a.Fa("stand")}
wd.prototype.step=function(){var a=this.v.Xa,b=a.length,c=k;if(0<b)for(b-=1;0<=b;b--)c=a[b],sa(X(this),X(c))?console.log("Wizard die!"):this.M==k&&Od(this,c)?(this.M=c,"shooting"!==this.status&&this.Fa("shoot")):c===this.M&&!Od(this,c)&&Nd(this,c);if("shoot"===this.status&&this.M){a=ra(this.M.c,this.c);Lc(this,180*Math.atan2(-a.y,a.x)/Math.PI);Y.yb(this.bd,this);Y.yb(this.dd,this);if(this.M&&"die"!==this.M.status)this.status="shooting",this.la(this.da.n("wizard03.png")),Y.uc(this.dd,this,500),a=this.v,
c=new Kd(this.v,this.c,this.M.c),La(a.cc,c),a.appendChild(c);Y.uc(this.bd,this,1E3)}};wd.prototype.bd=function(){this.status=this.M!=k?"shoot":"stand"};wd.prototype.dd=function(){this.la(this.da.n("wizard01.png"))};wd.prototype.Fa=function(a){this.status=a};function Od(a,b){if(!b)return m;var c=a.c,d=a.f(),e=b.c,f=b.f(),c=new y(c.x+d.width,c.y+d.height),e=new y(e.x+f.width,e.y+f.height);return a.de+b.f().width/2>Math.abs(qa(c,e))};C.Aa={};J.Aa={};va(J.s,J.Aa);va(C.s,C.Aa);function Pd(a){var b=Math.abs(a.N.y)+2*a.ma;return a.qe?(a.Ld+b)/a.fb:a.Ld+b/a.fb}
J.Aa.r=function(a){J.s.r.call(this,a);var b=a.style;this.o&4&&kc(a,this.Wa);if(this.o&8)b.lineHeight=Pd(this),b.padding=Ka(this.U,function(a){return a*Vc(this)},this).join("px ")+"px",b.color=this.xd,b.fontFamily=this.yd,b.fontSize=this.fb*Vc(this)+"px",b.fontWeight=this.zd,b.textAlign=this.ld,b.textShadow=this.ma||this.N.x||this.N.y?this.Zd+" "+this.N.x+"px "+this.N.y+"px "+this.ma+"px":""};
C.Aa.r=function(a){C.s.r.call(this,a);var b=this.n(),c=-b.left-this.U[3]+b.right-this.U[1]+Math.abs(this.N.x)+Math.abs(2*this.ma),d=0;if(!this.gd){var d=[],e=this.Wa.length,f=this.Wa.match(ab?/[\s\.]+/g:/[\s-\.]+/g),g=0;if(f)for(var i=0;i<f.length;i++){var l=f[i],l=this.Wa.indexOf(l,g)+l.length;d.push(this.Wa.substring(g,l));g=l}g!=e&&d.push(this.Wa.substring(g,e));this.gd=d;d=1}f=this.O?this.O.mc:0;a.save();e=this.ld;"left"==e?a.translate(b.left+this.U[3]+f,b.top+this.U[0]+f):"right"==e?a.translate(b.right-
this.U[1]-f,b.top+this.U[0]+f):"center"==e&&a.translate(0.5*(b.left+this.U[3]+b.right-this.U[1]),b.top+this.U[0]+f);b=Pd(this);a.fillStyle=this.xd;a.font=this.zd+" "+this.fb+"px/"+b+" "+this.yd;a.textAlign=e;a.textBaseline="top";if(this.ma||this.N.x||this.N.y)a.shadowColor=this.Zd,a.shadowOffsetX=this.N.x,a.shadowOffsetY=this.N.y,a.shadowBlur=this.ma;if(d||c!=this.Jd){d=[];e="";f=this.gd;for(i=0;i<f.length;i++)""==e?e=f[i]:(g=a.measureText(Ba(e+f[i])),g.width>c?(d.push(Ba(e)),e=f[i]):e+=f[i]);d.push(e);
this.Zb=d;this.Jd=c}if(this.Zb){c=b*this.fb;b=(r(this.ma)?Math.abs(this.ma):0)+(r(this.N)?Math.abs(this.N.y)/2:0);c=P?Math.floor(c):Math.round(c);for(d=0;d<this.Zb.length;d++)a.fillText(this.Zb[d],0,c*d+b-0.5)}a.restore()};var Qd={data:function(){return'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"><plist version="1.0"><dict><key>frames</key><dict><key>zombie01.png</key><dict><key>x</key><real>34</real><key>y</key><real>0</real><key>width</key><real>32</real><key>height</key><real>30</real><key>offsetX</key><real>0</real><key>offsetY</key><real>-0</real><key>originalWidth</key><real>32</real><key>originalHeight</key><real>30</real></dict><key>zombie02.png</key><dict><key>x</key><real>0</real><key>y</key><real>0</real><key>width</key><real>32</real><key>height</key><real>30</real><key>offsetX</key><real>0</real><key>offsetY</key><real>-0</real><key>originalWidth</key><real>32</real><key>originalHeight</key><real>30</real></dict><key>zombie03.png</key><dict><key>x</key><real>168</real><key>y</key><real>0</real><key>width</key><real>26</real><key>height</key><real>30</real><key>offsetX</key><real>0</real><key>offsetY</key><real>-0</real><key>originalWidth</key><real>32</real><key>originalHeight</key><real>30</real></dict><key>zombie04.png</key><dict><key>x</key><real>68</real><key>y</key><real>0</real><key>width</key><real>32</real><key>height</key><real>30</real><key>offsetX</key><real>0</real><key>offsetY</key><real>-0</real><key>originalWidth</key><real>32</real><key>originalHeight</key><real>30</real></dict><key>zombie05.png</key><dict><key>x</key><real>136</real><key>y</key><real>0</real><key>width</key><real>30</real><key>height</key><real>30</real><key>offsetX</key><real>1</real><key>offsetY</key><real>-0</real><key>originalWidth</key><real>32</real><key>originalHeight</key><real>30</real></dict><key>zombie06.png</key><dict><key>x</key><real>102</real><key>y</key><real>0</real><key>width</key><real>32</real><key>height</key><real>30</real><key>offsetX</key><real>0</real><key>offsetY</key><real>-0</real><key>originalWidth</key><real>32</real><key>originalHeight</key><real>30</real></dict></dict><key>texture</key><dict><key>width</key><integer>256</integer><key>height</key><integer>32</integer></dict></dict></plist>'}};function xd(a){Z.call(this);this.v=a;this.da=new Ed("assets/zombie.png",Qd,Bd);this.Ca=0.1;this.je=new M(1,0);this.status="moving";this.A(32,32).la(this.da.n("zombie01.png"));this.start()}w(xd,Z);
xd.prototype.start=function(){Y.ka(this.ea,this);var a=0.5<=Math.random()?-10:10,b=Math.ceil(Math.random()*(0.5<=Math.random()?-10:10)),a=Math.ceil(Math.random()*a);this.b=(new M(b,a)).normalize();Lc(this,180*Math.atan2(-this.b.y,this.b.x)/Math.PI);b=new Hd;Id(b,1/6).$b=j;for(a=1;2>=a;a++)b.Fb(this.da.n("zombie0"+a+".png"));ad(this,b)};
xd.prototype.ea=function(a){var b=this.c;this.v.f();var c=m;degAngle=k;angle=k;if("moving"===this.status){b.x+=this.b.x*a*this.Ca;b.y+=this.b.y*a*this.Ca;if(480<=b.x||0>=b.x)if(480<=b.x&&(0<this.b.x&&0<this.b.y||0<=this.b.x&&0>this.b.y))this.b.x*=-1,c=j;else{if(0>=b.x&&(0>this.b.x&&0>this.b.y||0>=this.b.x&&0<=this.b.y))this.b.x*=-1,c=j}else if(360<=b.y||0>=b.y)if(360<=b.y&&(0>this.b.x&&0<this.b.y||0<=this.b.x&&0<this.b.y))this.b.y*=-1,c=j;else if(0>=b.y&&(0<this.b.x&&0>this.b.y||0>=this.b.x&&0>this.b.y))this.b.y*=
-1,c=j;c&&(angle=Math.atan2(-this.b.y,this.b.x),degAngle=180*angle/Math.PI,Lc(this,degAngle));this.D(b)}};function Ld(a){var b=new Hd,c=a.v;Jd(Id(b,1/12));for(var d=3;6>=d;d++)b.Fb(a.da.n("zombie0"+d+".png"));ad(a,b);T(b,"stop",function(){Nd(c.Bb);Nd(c.Bb,a);c.removeChild(a);Ma(c.Xa,a)});a.status="die"}xd.prototype.Fa=function(a){this.status=a};C.Cb={};J.Cb={};J.Cb.r=function(a){var b=this.f();J.s.r.call(this,a);Bc(a,0.5*b.width,0.5*b.height)};C.Cb.r=function(a){this.f();var b=this.P,c=this.n(),d=0.5*(c.right-c.left),c=0.5*(c.bottom-c.top);a.save();a.save();a.scale(d,c);a.translate(1-2*b.x,1-2*b.y);a.beginPath();a.arc(0,0,1,0,2*Math.PI,m);a.closePath();a.restore();a.clip();C.s.r.call(this,a);this.O&&(a.lineWidth*=2,a.stroke());a.restore()};function D(){V.call(this);this.Pa(0,0);this.Sb="lime-scene";Pc(this)}w(D,V);D.prototype.hb=function(){return this};D.prototype.ob=function(){return this.n()};function Rd(a){D.call(this);this.T=a;this.Bb=k;this.Xa=[];this.cc=[];this.Kd=new ud(this);this.hd=320;this.Eb=480;vd(this.Kd)}w(Rd,D);Rd.prototype.start=function(){var a=this;T(this,["mousedown","touchstart"],function(b){Md(a.Bb,b.position)});Y.ka(function(){},this);Sd(this.T,this)};function yd(a,b){a.Bb=b;a.appendChild(b)};function Td(){D.call(this);this.a.style.cssText="background:rgba(255,255,255,.8)"}w(Td,D);function Ud(a){this.bb=a;this.identifier=0}Ud.prototype.tb=function(a){var b=r(a),c=s(a)?a:[a];if(a=this.bb.Ta[this.identifier]){var d=this,a=Ja(a,function(a){return!r(d.Ua)||a[0]==d.Ua&&(!b||0<=L(c,a[1]))?(Eb(a[0],a[1],a[2]),m):j});a.length?this.bb.Ta[this.identifier]=a:delete this.bb.Ta[this.identifier]}};Ud.prototype.e=function(){var a=new Ud(this.bb);wa(a,this);return a};function Vd(a){this.T=a;this.C={};this.Ta={}}Vd.prototype.sb=function(a,b){r(this.C[b])?0<=L(this.C[b],a)||(this.C[b].push(a),this.C[b].sort(Sc)):(this.C[b]=[a],T("touch"==b.substring(0,5)&&a!=this.T?document:"key"==b.substring(0,3)?window:this.T.a.parentNode,b,this,m,this))};Vd.prototype.tb=function(a,b){r(this.C[b])&&(Ma(this.C[b],a),this.C[b].length||(Eb(this.T.a.parentNode,b,this,m,this),delete this.C[b]))};function Zc(a,b){for(var c in a.C){var d=a.C[c];0<=L(d,b)&&d.sort(Sc)}}
Vd.prototype.handleEvent=function(a){if(r(this.C[a.type])){for(var b=this.C[a.type].slice(),c=m,d=0,e=0;!e;){var f=new Ud(this);f.type=a.type;f.event=a;if("touch"==a.type.substring(0,5)){var g=a.Ha.changedTouches[d];f.Oa=new y(g.pageX,g.pageY);f.identifier=g.identifier;d++;d>=a.Ha.changedTouches.length&&(e=1)}else f.Oa=new y(a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a.clientY+document.body.scrollTop+document.documentElement.scrollTop),e=1;if(r(this.Ta[f.identifier])){for(var g=
this.Ta[f.identifier],i=0;i<g.length;i++)if(g[i][1]==a.type||s(g[i][1])&&0<=L(g[i][1],a.type)){var l=g[i][0];f.Ua=l;f.position=l.ca(f.Oa);g[i][2].call(l,f);c=j}if("touchend"==a.type||"touchcancel"==a.type||"mouseup"==a.type||"keyup"==a.type)delete f.Ua,f.tb()}else for(i=0;i<b.length;i++)if(l=b[i],!((this.T.k.length?this.T.k[this.T.k.length-1]:k)!=l.hb()&&l!=this.T)&&!l.Vb&&l.p)if(f.Ua=l,l.Jc(f)||"key"==a.type.substring(0,3))if(f.Ua=l,l.dispatchEvent(f),c=j,f.event.ja)break}c&&a.preventDefault()}};function Wd(a){this.oa=a||window;this.mb=T(this.oa,"resize",this.Ed,m,this);this.q=cc(this.oa||window);if(P&&eb||$a&&this.oa.self!=this.oa.top)this.Ab=window.setInterval(ka(this.wc,this),Xd)}w(Wd,Kb);var Xd=500;n=Wd.prototype;n.mb=k;n.oa=k;n.q=k;n.Ab=k;n.f=function(){return this.q?this.q.e():k};n.X=function(){Wd.wb.X.call(this);if(this.mb)Fb(this.mb),this.mb=k;if(this.Ab)window.clearInterval(this.Ab),this.Ab=k;this.q=this.oa=k};n.Ed=function(){this.wc()};
n.wc=function(){var a=cc(this.oa||window);if(!(a==this.q||(!a||!this.q?0:a.width==this.q.width&&a.height==this.q.height)))this.q=a,this.dispatchEvent("resize")};function Yd(a,b){this.ta=1;this.ve=a;this.Kc=b;this.wd=m}w(Yd,Kb);Yd.prototype.jc=function(a){this.ta=a;return this};Yd.prototype.start=function(){this.Kc.D(new y(0,0));var a=this.Kc;a.Vb=m;W(a,Ec);a.ie=0;this.finish()};Yd.prototype.finish=function(){this.dispatchEvent(new Q("end"));this.wd=j};function Zd(a,b,c){V.call(this);this.p=j;this.Pa(0,0);this.k=[];this.zc=[];this.Sb="lime-director";Pc(this);a.appendChild(this.a);if(P&&bb)this.yc=document.createElement("div"),Tb(this.yc,"lime-cover-below"),hc(this.yc,this.a),this.xc=document.createElement("div"),Tb(this.xc,"lime-cover-above"),ic(this.xc,this.a);"absolute"!=a.style.position&&(a.style.position="relative");a.style.overflow="hidden";if(a==document.body){sc("html,body{margin:0;padding:0;height:100%;}");var d=document.createElement("meta");
d.name="viewport";var e="width=device-width,initial-scale=1.0,minimum-scale=1,maximum-scale=1.0,user-scalable=no";/android/i.test(navigator.userAgent)&&(e+=",target-densityDpi=device-dpi");d.content=e;document.getElementsByTagName("head").item(0).appendChild(d);if(bb&&!o.navigator.ye){var f=this;setTimeout(function(){window.scrollTo(0,0);f.lb()},100)}}var g,a=qc(a);this.A(new A(g=b||a.width||400,c||a.height*g/a.width||400));this.Dc&&U(this.Bd);this.Id=this.Dc=m;Y.qd(this);if(this.Id)this.fc=new (this.we||
Td),$d(this,this.fc);else if(this.fc){if(this.k.length)Yc(this.k[this.k.length-1]),this.k[this.k.length-1].i=k,U(this.k[this.k.length-1].a),this.k.pop();delete this.fc}b=new Wd;T(b,"resize",this.lb,m,this);T(o,"orientationchange",this.lb,m,this);Y.ka(this.ea,this);this.ua=new Vd(this);T(this,["touchmove","touchstart"],function(a){a.event.preventDefault()},m,this);T(this,["mouseup","touchend","mouseout","touchcancel"],function(){},m);this.lb()}w(Zd,V);n=Zd.prototype;n.B=function(){return this};
n.hb=function(){return k};n.ea=function(a){if(this.Dc&&(this.Z++,this.Ya+=a,100<this.Ya))this.Ad=1E3*this.Z/this.Ya,kc(this.Bd,this.Ad.toFixed(2)),this.Ya=this.Z=0;pa()};function Sd(a,b){b.A(a.f().e());var c=k;a.k.length&&(c=a.k[a.k.length-1]);for(var d=[],e=a.k.length;0<=--e;)Yc(a.k[e]),d.push(a.k[e].a),a.k[e].i=k;a.k.length=0;a.k.push(b);b.a.style.display="none";a.a.appendChild(b.a);b.i=a;Xc(b);c=new Yd(c,b);T(c,"end",function(){for(var a=d.length;0<=--a;)U(d[a])},m,a);r(h)&&c.jc(h);c.start()}
n.na=function(){this.o&=-65};function $d(a,b){b.A(a.f().e());a.k.push(b);a.a.appendChild(b.a);b.i=a;Xc(b)}n.ca=function(a){a=a.e();a.x-=this.eb.x+this.c.x;a.y-=this.eb.y+this.c.y;a.x/=this.z.x;a.y/=this.z.y;return a};n.La=function(a){a=a.e();a.x*=this.z.x;a.y*=this.z.y;a.x+=this.eb.x+this.c.x;a.y+=this.eb.y+this.c.y;return a};n.update=function(){V.prototype.update.call(this);for(var a=this.zc.length;0<=--a;)this.zc[a].update()};
n.lb=function(){var a=qc(this.a.parentNode);if(this.a.parentNode==document.body&&(window.scrollTo(0,0),ea(window.innerHeight)))a.height=window.innerHeight;var b;b=this.f().e();b=b.scale(b.width/b.height>a.width/a.height?a.width/b.width:a.height/b.height);this.$c(b.width/this.f().width);a.width/a.height<b.width/b.height?this.D(0,(a.height-b.height)/2):this.D((a.width-b.width)/2,0);var c=this.a.parentNode,d,e=Yb(c),f=lc(c,"position"),g=ab&&e.getBoxObjectFor&&!c.getBoundingClientRect&&"absolute"==f&&
(d=e.getBoxObjectFor(c))&&(0>d.screenX||0>d.screenY);b=new y(0,0);var i;d=e?9==e.nodeType?e:Yb(e):document;if(i=N)if(i=!pb())i=Wb(d),i=!$b(i.Y);i=i?d.body:d.documentElement;if(c!=i)if(c.getBoundingClientRect)d=mc(c),e=Wb(e).Y,c=!P&&$b(e)?e.documentElement:e.body,e=e.parentWindow||e.defaultView,c=new y(e.pageXOffset||c.scrollLeft,e.pageYOffset||c.scrollTop),b.x=d.left+c.x,b.y=d.top+c.y;else if(e.getBoxObjectFor&&!g)d=e.getBoxObjectFor(c),c=e.getBoxObjectFor(i),b.x=d.screenX-c.screenX,b.y=d.screenY-
c.screenY;else{d=c;do{b.x+=d.offsetLeft;b.y+=d.offsetTop;d!=c&&(b.x+=d.clientLeft||0,b.y+=d.clientTop||0);if(P&&"fixed"==lc(d,"position")){b.x+=e.body.scrollLeft;b.y+=e.body.scrollTop;break}d=d.offsetParent}while(d&&d!=c);if($a||P&&"absolute"==f)b.y-=e.body.offsetTop;for(d=c;(d=nc(d))&&d!=e.body&&d!=i;)if(b.x-=d.scrollLeft,!$a||"TR"!=d.tagName)b.y-=d.scrollTop}this.eb=b;if(bb&&this.a.parentNode==document.body){if(this.Vc)b=this.Vc,U(b.ownerNode||b.owningElement||b);this.Vc=sc("html{height:"+(a.height+
120)+"px;overflow:hidden;}")}};n.Jc=function(a){if(a&&a.Oa)a.position=this.ca(a.Oa);return j};function ae(){var a=new Zd(document.getElementById("container"),480,320);(new Rd(a)).start()}var be="wvsz.start".split("."),ce=o;!(be[0]in ce)&&ce.execScript&&ce.execScript("var "+be[0]);for(var de;be.length&&(de=be.shift());)!be.length&&r(ae)?ce[de]=ae:ce=ce[de]?ce[de]:ce[de]={};
